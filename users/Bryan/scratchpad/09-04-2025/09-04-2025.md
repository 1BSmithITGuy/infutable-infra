# 09-04-2025

## Inbox

## Notes

talos notes:

#  Create VMs

### ISO download:  factory.talos.dev
- bare metal iso
- get the xen extension, and update the config:

```yaml
machine:
  systemExtensions:
    officialExtensions:
      - siderolabs/xen-guest-agent
```

## VM specs:

Control plane: 
- 4 GB RAM, 2 vCPU, 30GB disk
- bsus103tal-k8m01.k8s.infutable.com IP:  10.0.2.2/27

Workers (2):
- 4 GB RAM, 2 vCPU, 50GB disk
- bsus103tal-k8w01.k8s.infutable.com → 10.0.2.3/27
- bsus103tal-k8w02.k8s.infutable.com → 10.0.2.4/27

## generate config:

Make the config directory in the repo and run:
```bash
talosctl gen config "us103-talos01" "https://bsus103tal-k8m01.k8s.infutable.com:6443" --output-dir config --with-examples=false --with-docs=false --kubernetes-version 1.34.0
```

create yaml config files for control plane and 2 workers and run:

```bash
talosctl machineconfig patch config/controlplane.yaml --patch @config/patches/control-plane.yaml --output config/controlplane-final.yaml

talosctl machineconfig patch config/worker.yaml --patch @config/patches/worker-01.yaml --output config/worker-01-final.yaml

talosctl machineconfig patch config/worker.yaml --patch @config/patches/worker-02.yaml --output config/worker-02-final.yaml
```

Questions:  please explain each file
